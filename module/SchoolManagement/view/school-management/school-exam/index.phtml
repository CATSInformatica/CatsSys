<section class="content">
    <?php
    $this->headLink()->appendStylesheet('/css/exam-print.css', 'all');
    $this->headTitle()->append('Gerar Simulado')
            ->setSeparator(' - ');
    ?>
    <p><?php echo $this->message; ?></p>
    <div class="row">
        <div class="col-md-10 col-md-offset-1 col-xs-12">
            <div class="box box-danger">
                <div class="box-header with-border">
                    <h3 class="box-title"><span class="fa fa-book"></span> Instruções</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div id="s-43" class="split">
                        <div id="q-29" class="question-block split" data-id="29" data-subject-id="49">
                            <hr class="q-divider">
                        </div>
                    </div>
                    <ul>
                        <li>
                            É recomendada a utilização do navegador 
                            <a href="https://www.google.com/chrome/" target="_blank">
                                <strong>Chrome</strong>
                            </a>
                            (ou Chromium) para geração de simulados.
                        </li>
                        <li>
                            A ferramenta de geração automática de simulados ainda está sendo aprimorada, é possível que não haja o melhor aproveitamento de espaço em algumas páginas ou que questões extravasem o limite entre as questões e o rodapé. Uma maneira de tentar solucionar o eventual problema é rearranjando as questões.
                        </li>
                        <li>
                            Para salvar/imprimir corretamente o simulado gerado é necessário remover as margens de impressão do navegador. A imagem abaixo mostra as configurações da janela de impressão do Chrome, em "Margens" deve-se escolher "Nenhum".                                
                        </li>
                        <div class="text-center">
                            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCABoAP4DAREAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAIDBAEFBgf/xAAaAQEBAQEBAQEAAAAAAAAAAAAAAQIDBAUG/9oADAMBAAIQAxAAAAH9SAAAAAAAAAAAAAAAAAAAAAMvTEQAAAAAAACNbeW+gHimqJWUmtdIBwxdMZee6yyLLL1AAAAAHmnd59zFkoGKK64lhaukAied0xRy359WxZqa5QAAAB0ESO8+rizXoAAABwgYN5yEbKJdpks3SgAAAAdI2ehz3aTAAABwiVkClPMXVFFzot9aAAAAABBcxoLgAAAcIFR814fqZuPp0651zVON5sdQAAAAAO6z9f8AX/Pai8GQkdJnSw4QKTxPJ7sfD1z1jk1IrmgAAAAAO3Pu/R+PrNAPKjHWuIWa13HCBQcMcYFlrNcSmtNz7agAAAAQMRrNAAAAOECkiciFUkiRvAAAAABAxGs0AAAA4QKiuOGaoHTRGygAABwAEIz1qLwAAAcIlZ5RmM0eZZdLnrWVFrPGoRSaiOp6Eal6SLTWXlwAAABwgVFRE4AAAAAAdOky0sP/xAAmEAABBAICAQQCAwAAAAAAAAACAAEDEgQUERMwECAjMQUyITNQ/9oACAEBAAEFAv8ALIyveRXkV5FeRXkV5FeRXkV5FeRXkV5FeRXkV5FeRXkRSGI+x8x2A8oALYa8eUztBK0zex/7sjIaBbYMtmO8UwS+XOzY8KOLIHKw2+vXWj41A5PHcsgcYBGOJgL2E/zGLGTYjAOuKxomgGysrKysrKysrKysrIuDGR/ib68hxPJJNG8SERcRcXPpUFZVqktUlqktUlqktUlqktUlqktUlqktYkWMVRfyOo/vICRyLBkcngmaKPElBYkEsHlP9B8jrPf5YOCYoeH6v4nHrfl1y65dcuuXXLrl1y65dcuuXXLrl0LvyCb12AuU8bB2hxcLCQl7CWTAcx6kzLqyBcsfIFjxMg30p1pTrSnWlOtKdaU60p1pTrSnWlOtKdaU60p1pzMgTevTJxHjyHA8MjyBikIY0Zx+wlD95sZSu0cwGAzCgjmZP3u0EcgT+M/0BN4yUX3PI4P3sLbXK241HlAcnkP9ATeN1G7M8wDInxxImxQYtWNdQdlmVmVmVmVmVmVmVmVhVhVhVhRkNATeN1MJXESc83G2Af8AHydZ4JSRHjZDzFhn1vgmnwzuePJHi4+JK0I4U4GGE4tHhnHHjQlHDVVVUzIW8rsqqqqqqqqqqqqqqqqqqqqqqqZkzen/xAAvEQACAAMFBgUEAwAAAAAAAAAAAQMRUQISFCIxBCAhQWHwEDAyQFATgZGhsdHh/9oACAEDAQE/Afi5uckZjMZjMZjMZjMZjMZjMZjMZjMZhu0uO7XyV6n7K36XvvfXqfiuHn2/S/OdnmXXUk6l16TJdSTqXXUuupddS66l11LrqXXUuupddS66knUuupdnz9g3M5t96Hf795sCysizstXRRZrgj6vTgQrV/VEkSRJEkSRJEkSRJEkSRJEkW0rr87ZI9iEneMZB1HtGzmKgalnaoFnQxsKpjYVTGwqmNhVMbCqY2FUxsKpjYVTGwqmNhVMbCqY2FUxsKpa2yE01PdfMr9/34897lIWs30/k5d1Ra/v/AAev5H3+Pnnx99yHo0VNO+ouBZyy+wlJJFTnM6i4C4fEf//EADMRAAIAAQkGBAYDAQAAAAAAAAABEQIDEiJhgbHR8BQhMUFRUiAwMkAEEBNQkaFCcYLh/9oACAECAQE/AftakyYRlFTq9XlTq9XlTq9XlS3V5Ut1eVLdXlS3V5Ut1eVLdXlS3V5Ut1eVLdXlS3V5Ut1eVLdXlTq9XlTq9XikyG4R8K3w8l+hHOHsZv1ofg4fJeN+hfPX5I+dN+tD81S90Gimu3HMpLtxzKahGjjmOWl/HHMpLtxzKS7ccyku3HMprtxzKa7ccymu3HMprtxzKa7ccymu3HMpLtxzKS7ccyku3HMprtxzFOJb1Jxz8/mLcckh79WEfd/F8USFFOI5G+B9OMFHp+yXu4MiyLIsiyLIsiyLIsiyLIsiyS3Fed8RNSpbUDZ5zgfSnj6E6OYnHxNmnDZpw2acNmnDZpw2acNmnDZpw2acNmnDZpw2acNmnCT8PLT8K5HCF3y1+jl4uDicFBW4ZnPXRiFwX+f+i1+ffrf75C3C3e95i4pnSw4/vAlVo2kqtG8e9tj4kIKBDkSlFQ/v9krf9o//xAA3EAABAwIDBAkCBQQDAAAAAAABAAIREiExMpIDIkHhEyAwM1FhcYGRQqEEI1BichQ0UsGisdH/2gAIAQEABj8C/Sy1oFvErKzVyWVmrksrNXJZWauSys1cllZq5LKzVyWVmrksrNXJZWauSys1cllZq5LKzVyWVmrksrNXJZWauSys1ckSWst+7qv3d8OgDy8U9pBloq4XQbQ/GDhYptnmY3oHFEtBA8+q/wBAmVCzjBPgjVa5wvhxRZN/SyNM28RHajabYPo8WiYTtrsw4NLTFQjqxF4InjdOu7em3qg8OhsgkeKpFXD7JzpLnO4nqv8AQJhP0qGPIxHseCxtVMe0KG0+zY7UteA5pxBT/wCJ7YkPLfZNna7Ql2ADAmu/qoqsJAF1tAfxNIYYJdSv7n7BNA/EEPc0OpIErv3aQu/dpC792kLv3aQu/dpC792kLv3aQu/dpC792kLv3aQu/dpC792kI/nONvAds5bJ2yDSWnBxhVEg1TWJjE8LIt2ZF9oXY8PhNG5Tuk38E0GgtoDTfw7V3p2w9E+snyPghUS3Ae6EPNVv+4Qh8+6xKxKxKxKxKxKxKxKxKxKxKxKxKFz1ab4xMWlOdW2G4wcETU2kfVNkG1NqPCUaXAxjB6ssGCiwn92KzXs3MhP8cVvQfdZR8rKPlZR8rKPlZR8rKPlZR8rKPlZR8rKPlZR8rKPlZR8qSB89Xo93o6qp44yrhrDTA878UdpDJkGmbYQolv0/ZODoo+kTMdVy2VGLTUD5wnGHVPc1zo9+S2cdNegukk+qDp28w03ccar/AGTm/nSGu8f8rfZY7UtrcN5xNuHaO9O2cmNY2p7jaSj0lnCAY81sizZvLXlHNa4tm9FRS9pw3hx7V3p2zpITd+lzbggqTtncJwvCkbUh9VU2UHaEjACRuoPrvUXY+ULELELELELELELELELELELELEJ28MO2s0lCWkJo3LOqh4kFMZ0u6OFwBeV0T3jow6RGKDYlpLXPf6e6YGPEjZ9GZCpa8dHiLXywmvY8VNiJHkR/tbIM39pszNuKfU6jaPbFuFyf9rcc29UkyYw/8UB/1B3/ABhUSxzS0A1DyhBr3Vnx/R//xAAqEAEAAgIBAgUFAAIDAAAAAAABABEhMfFBURAwYXGBIJGhscHh8EBQ0f/aAAgBAQABPyH/AKsyPQVo38TlUcqjlUcqjlUcqjlUcqjlUcqjlUcqjlUcqjlUcqjlUUxAtpf+QbPoc62+8s/oP2lzOcFUPn161MwNo2jaHP6uX2QXqB0WXBKxrTP2cfP0r/Z7xi61B01v2nVKAoOHoaILc0xaui961ALdFibacy5cuXLly5cuXLlyykNNF7pvg2Albmr6FWlb0ErYqrWBkY6ulzBVz9RLaU9fdZMSsXT09j6av9jcYrZardlTNHjYv/E7zaWzfNjiTZrJtrvW/NAAJRCgWJAqNfwjw8xZhNoNBvfeUB0pI6uW8hZKeynrNE+o59tz3+h7upgzhxJL+fNAAAAAAAAAQQwzMFrN0wEHymOZfFHaTVIbE2DCScDAmTqfyXiaRhavF2p+Jmt3baxNYKz+IwGwgrEJgrrKlSpUqVKlSpUqVPyEeIeU+FilSBVKgybXKks4zORLoWYq6ZhSM+xKKV7M5yc5OcnOTnJzk5yc5OcnOTnJzk5yeqjvNPodU9Texcsyd6fKDKCrI2uVdZBRbNqtWRT4vgOiQU21KfotUjG0t0D7TCEGhj3wfeWQp3pOIziM4jOIziM4jOIziM4jOIziM4jOIweURlwmhNPEq3r3XDRVfm4MrFZW9nRjXruX0c6fyq/kzyIse1rf8TEjhT+RR4vg/Qh2W70AMLlcfNVNWL7GEHKRpobev8kexCukyafpFRwauFqMHr7NQuukIYnV+/M/ITU8s+D9SDAohQYLVYEDbLkXpKhBQaFKuzMTGhAp0hp+6ErKuhhlPt5v5CanlnwmQHG2WbOU6z7wC02s8qs6fqMteCuapxVS4QwdIKLX26wPVKtKthy05actOWnLTlpy05acnOTnJzk56oXWaHlmGAaAhqIAB3ijirWgHCfMpir3V6BAOTpTc3yJBN1/sokq1AsdNuh0lFty2iNZPXEFqi2LJX93DHJ7gaRcHCmgBW3dO/eJnyqYgaxmeNg1ltgXcAlnQFfxceEvaZT1tYibxvK9XgznHiHi4PLTwn/hh/8AECf/2gAMAwEAAgADAAAAEAAAAAAAAAAAAAAAAAAAAABbbbbbbbbbIADj0AIRU5JJJJJJGAOL4AIUcZJJJJABGAAAAAIFcPtttttkZAAAAJBCkwSSSSSSJAAAABAKXSSSSSSTAAARIAA80JJJJJJIJANkwAIO3w5JJJJJAAAAAABFNNJJJJJJJAAAABAmKGAAABJJwAAAAJBJ8SYxhCwJBAAAAAJJIAAAAAIAJP/EACoRAAECBQMDBAMBAQAAAAAAAAEAESFhkaHRMUFRscHwIDBxgUBQ4RDx/9oACAEDAQE/EP1ZeA084T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4T8RU4QQkBCf89JgZB5eybTzZ0SwfzVkSzyexI7I6kcenoO6MA6I48g63AG7X0Txb3rAoaegly5neC8s3RA4byBdEOSeXuSe6MS/p6Dv/jxcfPTAUQEbNYMgGPvWBQ091wsJFO4KgO+2FrElD4wiAxLbseJoGd9sLmLfjYkcSUzbCmbYUzbCmbYUzbCmbYUzbCmbYUzbCmbYU7bCmbYRMGJWx75YhlqN43AHbjdAgAbtYB2TNEa6UI90WdxPqT3ThOE4ThOE4ThOE4ThOE4T+8IujcImEDq4bUN1T4QHU8QBhtqmAkkWP8wDpgSzpsd/kBSlKUpSlKUpSlKUpSlKUpSlpvY9PSYapjEcRot283wng60LekZGznhEhBHSRRQjtHQ7nuV3mh3h/EFY2HwVNUKmqFTVCpqhU1QqaoVNUKmqFTVCpqhU1QqaoVNUKEQnIOx9MUG/fVakNiesKbzWpeQsSe9UXJJ5BuSe6O4epgXN/H+ixTDIWY6/aG86nwo/0ojDwCMvlGxNNaH/ABa4cjuN6aflmAcqX35RHQmbdcIw1nYOUYa+Qfp+ZsxRDiPx9IudZWfKBhHL3BD3KMbWBHf80GIct1B7MgcCDvcN/ZklEx4HzKdkI6D6DuiOEjUF0wmbdDdWT67AVCAcAdy93Tu5PqniJugZRn+LLQogGf8AT//EACgRAAECBAUEAwEBAAAAAAAAAAEAESFRYaExQZGxwSCB0fAwceFAUP/aAAgBAgEBPxD/ACwBMYvgHw7hN+QI35AjfkCNPoCNPoCNPoCNPoCNPoCNPoCNPoCNPoCNPoCNPoCNPoCNPoCN+QI35AgkJOYYDyiG6IFWPvcdynfCYGpZY4VsHUvcnTQBn03p4QigZe5kcJ4EyexY3TH5r0brEegDJS2CELWL7qB3rcMnwp4bhCAbpvTwmEXzDLEMaPViS9y80Q4IOYI1OiRx+a9G6xH5WGQgTfghRWYiOAAjVAKDEa+mCBEsg+hDEgh4clTIpkUSKJFEiiRRIokUyKZFMiiQQYOPnA4dRtkwmyhYk7mcKogkiRuSeViD7uxRO/3YD3b+siGpID5GDLFCQSw7sCX7lAmER2EDxEevglVlWVZVlWVZVlWVZVlWVZVljLMdIipV5X2miyyfpIg4INwXQeLZ1kPCcLcyENAj7hcKhdULqhdULqhdULqhdULqhdULqhdULqhdBhIzn0wB2XGCBie2ZMwb7uB4UIUvALoZDj1AlgHYa4Q7h0RQNU/DsiwMDAEt6TZqpgI7bRuhd6g9nH6OaKAeR1cBbz/W7lh9okM/uDoCLGT7eUIiFL4LMH3dt4f2ZuECxcffdmRMGGEbt4yRQGTWiApEiNSDuP7WgMnuCETERZrHnCcEAYs8GjDhMCOQ5ENzRACdh65TnDnuL2Rsmb6FvARQEfVmWAUsAOFEDkbck8p6DMbmzonmpcIl2/x//8QAKBABAAIBAwMEAgMBAQAAAAAAAQARITFBUcHw8RAwYXGBoSBAkbHh/9oACAEBAAE/EPeuXLly5cuXLly5cuX/AELaWh71BS4/pAgQIECBAgQIECBAgQIECSaeVlAtq9coHkv+F/G67R8jQt/McAKyBdBccNFoXXaoQNoM2qdAsgDfhIVVS5bwIXrKaAqr/gj9KPx/BgESlp1LQTc3FZ4M7RHjnoVgVTcMuDmHw1UUkLCtkQ1ekdHNiJQugCiaOjK8yvMrKysrK8ysrK8yvMrzGQ7tUbYaXsxSnreyYDs7O8X+Z/BDLI2CSGq1eOsvcJYNgsdRQ1UNiMCsquvQomGqLEwFjPmQSL+o51nOzKKtRQG7lL+fVi+kvjAYiS6h/DGh9Ei6C5aYAcNmWiuk0NLVvrNwftAkwUczXPy4n2n2n2n2n2n2n2n2n2n2n29DbLF3tRHCfDDBAAAwBef5ZB9pZVKo6ZxJeX6iDMWWRLFcDLUGkaGmoNHFax/Fnw51VmmbBQusXK5pEUN0WNNUycwOKEuqyitAN1pO1ek7V6TtXpO1ek7V6TtXpO1ek7V6TtXpOxek7F6TuXpB6+RIFZLC8/ED8UweyxYlAy667XBwuyTCZLPEMSyVUHa2igrJobNIXm7lfot1QvLRL3i52TxMsxQgUrTOJjpQfEKVQUtpWddZbhluGW4ZbhluGW4ZbhluGW4ZbhluGW4YXSf/AAZeI8eyzTHhlMZwa3mFfVukAKbnMtti1XmK26fX4mZ0FYqmDezTpNWGAYqs2Ve151nmk80nmk80nmk80nmk80nmk80nmk80nmkSbVXdzFhFj1FApa8ro0au8feImmoIrlrQ4zzOOaoRYjfzvXxFhIrdXyF2keKFUHwmtH0fSsMw8sjRV5jfQmXjYzRnOl/iaE2QEDWKbNaMMHyMNWD8oEKSrXzuTrO5Os7k6zuTrO5Os7k6zuTrO5Os7k6zuTrO5Os7k6zuTrBC3s2jLvHB+q2uWt+BrvHBtDlK2AVNKcGNx+I63iOKrB4Vsf0gJZcI0IYwUp8OINnINMZsslZKG0zl9GaZoZ+31Q4EEjaG7hcPwsu29WBQEYQE2wO8HKlxsIVKFVsHEVTtLMgVNJhaKDIGsLJu4TJaaypVizEsAlYvRZprYanl9zsHD6DR7LNM0M/f6oqa1UxKAtAbDrLJthTWqqCmS8FS+dDxBgmiY3R+IsmoUAGV5pBmtb0zAaWVIRLIuRXwmj7vYOGCGj2WaYcMyWUoDmEi8uSojgIiNUkcRxsN0uysGjARcq2EtxdQW2rWm4rJUqAVhbaDVRDokTkLc00rP3P+Lpnhcw3+nPD4jr/nnh88LmWsv1nis8Vnis8Vn6gHhhgMeywYlgwhzl1wl8pzLQDq1zitlhTFhRgfsPxH5ePGoBIAVpBkqaYo5BgLdKI2prJFtQ4PWa2z0MbXMOq4sSCVlDljMwxkjDQFuk+C5VJFsqoBvIkrRN4B0SVMGw1UuWmsHCFhtzwR+JhxWFwxnVwiiLO2TaptjEvcOFvIGdV/0lu+1sawmpRrUzmJDPKTZNiVRC1VrMHxB8T4p8MoCYvaSXS2BxE8RPErxKcSnEpxKcSnEpxKcSnEpxKcSnErxA8QTaVeh//Z" alt="Margens de impressão">
                        </div>
                    </ul>
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        <div class="col-md-10 col-md-offset-1 col-xs-12">
            <div class="box box-primary color-palette-box">
                <div class="box-header with-border">
                    <h3 class="box-title text-uppercase"><i class="fa fa-cogs"></i> CONFIGURAÇÃO DO SIMULADO</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div><!-- /.box-tools -->
                </div>
                <div class="box-body">
                    <div class="col-xs-12 no-padding">
                        <div class="col-xs-12 col-md-8">
                            <label for="exam-name-input">Nome do simulado</label>
                            <input type="text" class="form-control" id="exam-name-input" placeholder="Ex: 1º Simulado Oficial do CATS - 2016">
                        </div>
                        <div class="col-xs-12 col-md-4">
                            <label for="exam-numbering-start">Numerar questões a partir de</label>
                            <input type="number" min="0" class="form-control" id="exam-numbering-start" value="1">
                        </div>
                    </div>
                    <div class="col-xs-12 checkbox">
                        <label><input type="checkbox" id="exam-instructions"> Incluir cabeçalho com instruções</label>
                    </div>
                    <div class="col-xs-12 no-padding">
                        <div class="col-xs-12 col-md-4">
                            <div class="form-group ">
                                <label>Data do simulado</label>
                                <div class="input-group ">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </span>
                                    <input id="exam-day" type="text" class="form-control datepicker text-center" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-4">
                            <div class="form-group ">
                                <label>Hora de início</label>
                                <div class="input-group ">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </span>
                                    <input id="exam-begin-time" type="text" class="form-control datepicker text-center" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-4">
                            <div class="form-group ">
                                <label>Hora de término</label>
                                <div class="input-group ">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </span>
                                    <input id="exam-end-time" type="text" class="form-control datepicker text-center" disabled>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-xs-12 no-padding">
                        <table class="table table-bordered">
                            <tr>
                                <?php foreach ($this->baseSubjects as $baseSubject) : ?>
                                    <?php
                                    if ($baseSubject->getSubjectName() === "REDAÇÃO"):
                                        continue;
                                    endif;
                                    ?>

                                    <th>
                                        <h4 class="text-uppercase"><?php echo $baseSubject->getSubjectName(); ?></h4>
                                    </th>
                                <?php endforeach; ?>
                            </tr>
                            <tr>
                                <?php foreach ($this->baseSubjects as $baseSubject) : ?>
                                    <?php
                                    if ($baseSubject->getSubjectName() === "REDAÇÃO"):
                                        continue;
                                    endif;
                                    ?>
                                    <td>
                                        <div class="container-fluid">
                                            <?php foreach ($baseSubject->getChildren() as $subject) : ?>
                                                <div class="row">
                                                    <?php echo $subject->getSubjectName(); ?>
                                                    <input type="number" class="col-md-5 col-xs-12 pull-right amount-input" 
                                                           value="<?php echo (int) (45 / count($baseSubject->getChildren())) ?>"
                                                           data-s-id="<?php echo $subject->getSubjectId(); ?>" 
                                                           data-old-value="" min="0">
                                                </div>
                                                <br>
                                            <?php endforeach; ?>
                                        </div>
                                    </td>
                                <?php endforeach; ?>
                            </tr>
                        </table>
                        <div class="col-md-12"><strong>Total: <span id="question-count">0</span></strong></div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        <div class="col-md-10 col-md-offset-1 col-xs-12">
            <div class="box box-success color-palette-box">
                <div class="box-header with-border">
                    <h3 class="box-title text-uppercase"><i class="fa fa-check-square-o"></i> SELEÇÃO DAS QUESTÕES</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div><!-- /.box-tools -->
                </div>
                <div class="box-body">
                    <div class="col-md-4 col-sm-12" id="subjects">
                        <dl class="col-xs-12 no-padding">
                            <?php foreach ($this->baseSubjects as $baseSubject) : ?>
                                <div class="base-subject-info no-margin no-padding" 
                                     data-name="<?php echo $baseSubject->getSubjectName(); ?>"
                                     data-id="<?php echo $baseSubject->getSubjectId(); ?>">

                                    <?php foreach ($baseSubject->getChildren() as $subject) : ?>
                                        <dt id="select-<?php echo $subject->getSubjectId(); ?>"
                                            data-name="<?php echo $subject->getSubjectName(); ?>">
                                                <?php echo $subject->getSubjectName(); ?>
                                            <span class="pull-right">
                                                <span class="q-added text-green">0</span>
                                                <?php if ($baseSubject->getSubjectName() !== "REDAÇÃO"): ?>
                                                    /
                                                    <span class="q-amount text-blue"></span>
                                                <?php endif; ?>
                                            </span>
                                        </dt>
                                        <dd class="col-xs-12" id="subject-<?php echo $subject->getSubjectId() ?>">
                                            <select name="subject" class="col-xs-12 no-padding no-border" multiple>

                                                <?php
                                                foreach ($subject->getChildren() as $topic) :

                                                    //  DFS para imprimir a arvore de disciplinas
                                                    $visited = [];
                                                    $stack = new SplStack();
                                                    $stack->push($topic);
                                                    while (!$stack->isEmpty()) :
                                                        $current = $stack->pop();
                                                        if (isset($visited[$current->getSubjectId()])) :
                                                            continue;
                                                        endif;
                                                        $visited[$current->getSubjectId()]
                                                                = true;
                                                        if (empty($current->getChildren()->toArray())) :
                                                            ?>
                                                            <option value="<?php echo $current->getSubjectId(); ?>">
                                                                <?php echo $current->getSubjectName(); ?>
                                                            </option>
                                                            <?php
                                                        endif;

                                                        foreach ($current->getChildren()->toArray() as $child) :
                                                            $stack->push($child);
                                                        endforeach;
                                                    endwhile;

                                                endforeach;
                                                ?>    
                                                <option value="<?php echo $subject->getSubjectId(); ?>">SEM TÓPICO DEFINIDO</option>

                                            </select>
                                        </dd>
                                    <?php endforeach; ?>
                                </div>
                            <?php endforeach; ?>
                        </dl>
                    </div>
                    <div class="col-md-8 col-sm-12" id="questions">
                        <div class="table-responsive">
                            <table class="table table-condensed table-bordered" id="question-table">
                                <thead>
                                <th></th>
                                <th>Questões</th>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-xs-6 col-xs-offset-3">
                            <button class="btn-primary btn-block btn" id="add-exam-question">Adicionar</button>                            
                        </div>
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        <div class="col-md-10 col-md-offset-1 col-xs-12">
            <div class="box box-warning color-palette-box">
                <div class="box-header with-border">
                    <h3 class="box-title text-uppercase"><i class="fa fa-file-text-o"></i> PRÉ-VISUALIZAÇÃO</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div><!-- /.box-tools -->
                </div>
                <div class="box-body" id="exam-part-1">
                    <div class="do-not-print col-xs-12">
                        <strong><span id="remaining-questions" class="text-red"></span></strong> questões restantes.
                    </div>

                    <div class="do-not-print row">
                        <div class="col-xs-6 col-xs-offset-3 col-md-4 col-md-offset-4">
                            <button class="btn-primary btn-block btn" id="print-exam">Imprimir</button>
                        </div>
                    </div> 

                    <!-- TEMPLATE DA DE CADA PÁGINA (CABEÇALHO, CONTEÚDO, RODAPÉ) -->
                    <div class="exam-page">
                        <div class="exam-header">
                            <div class="col-xs-3 no-padding">
                                <img class="center-block cats-logo" src="/img/logo_prova.png">
                            </div>
                            <div class="col-xs-9 no-padding">
                                <p class="text-center header-text"><strong>Curso Assistencial Theodomiro Santiago</strong><br>
                                    Av. BPS, 1303 - UNIFEI - Campus Professor J.R. Seabra - Sala I.1.2.47 - Itajubá - MG<br>
                                    <strong>Tel.:</strong>(38) 98871-2364 | <strong>Email:</strong> catsensino@gmail.com | familiacats.com.br</p>
                            </div>
                        </div>
                        <div class="exam-content">

                        </div>
                        <div class="exam-footer">
                            <p><span class="exam-name"></span><span class="page-number pull-right"></span></p>
                        </div>
                    </div>

                    <!-- PREVIEW -->
                    <div id="preview-page">
                        <div class="exam-questions">
                        </div>
                    </div>

                    <!-- DIV PARA IMPRESSÃO -->
                    <div id="print-page">

                    </div> 
                </div>
                <!-- /.col -->
            </div>
            <!-- /.box-body -->
        </div>
    </div>
</div>
</section>

<script>

    appConfig = (function () {
        var scriptSrc = 'app/pages/school-management/exam/index';
        return {
            getScriptSrc: function () {
                return scriptSrc;
            }
        };
    })();

</script>